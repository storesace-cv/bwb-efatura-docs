[paths]
# Pasta de trabalho (apenas onde fica o Excel)
base_dir = /Users/jorgepeixinho/Documents/NetxCloud/Clientes/Poeta/compras
# Pode ser caminho absoluto ou relativo ao base_dir
excel_path = supplier_invoices.xlsx

# Nota: o script cria automaticamente um ficheiro de estado para retoma segura:
#   supplier_invoices.xlsx.resume.json (ao lado do Excel)
# Se o script cair a meio de um documento, ao retomar ele apaga as linhas desse UID e reescreve o documento inteiro.
# Para forçar reescrita de todos os UIDs existentes no intervalo, usa: --rewrite-existing

[efatura]
# token.json legacy (opcional para migração automática)
# Pode ser caminho absoluto ou relativo ao directório onde corre o script
token_json = token.json

# Repository (3º caracter do UID). Normalmente 1=principal
repo_code = 1

# Intervalo (inclusive) a consultar no eFatura (YYYY-MM-DD)
date_start = 2025-12-01
date_end   = 2025-12-08

# Paginação e rede
page_size = 200
timeout_sec = 45
retries = 3
retry_backoff_sec = 1.5

[efatura_auth]
issuer_url = https://iam.efatura.cv/auth/realms/taxpayers
client_id = <preencher pela GUI>
redirect_uri = <preencher pela GUI>
scopes = openid profile email offline_access
token_store = ~/.bwb-app/efatura_tokens.json
# client_secret = <opcional se cliente confidencial>

[logging]
# Mostra um resumo de progresso a cada N documentos
progress_every_docs = 10

# Guardar incrementalmente o Excel (recomendado)
# - save_every_docs: guarda a cada N documentos processados (sucesso ou erro)
# - save_every_seconds: guarda pelo menos a cada N segundos
save_every_docs = 10
save_every_seconds = 60
# (Opcional) caminho do ficheiro de log. Se relativo, é relativo ao base_dir.
log_file = /Users/jorgepeixinho/Documents/NetxCloud/bwb-apps/DocRenamer/logs/update_supplier_invoices.log
